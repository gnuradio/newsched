/*
 * This file is part of GNU Radio
 *
 * SPDX-License-Identifier: GPL-3.0-or-later
 *
 */

/************************************************************/
/* This file is AUTOMATICALLY GENERATED using blockbuilder  */
/*       and should not manually edited                     */
/************************************************************/
{% set typekey = properties|selectattr("id", "equalto", "type")|map(attribute="key")|first %}
#include <gnuradio/{{module}}/{{block}}.hh>

namespace gr {
namespace {{module}} {

template <class {{typekey}}>
typename {{block}}<T>::sptr {{block}}<T>::make(const block_args& args, available_impl impl)
{
    switch (impl) {
    {% for impl in implementations %}
    #ifdef HAVE_{{ impl['id'] | upper }}
    case available_impl::{{ impl['id'] | upper }}:
        return make_{{ impl['id'] | lower }}(args);
        break;
    #endif
    {% endfor %}
    default:
        throw std::invalid_argument(
            "invalid implementation specified");
    }
}

{% for opt in properties|selectattr("id", "equalto", "type")|map(attribute="options")|first -%}
template class {{block}}<{{ opt['dtype']}}>;
{% endfor -%}

} // namespace {{ module }}
} // namespace gr
